# outline

線分走査法を利用して下記問題を解く

+ 凸包
  + 2次元点集合を囲む最小の凸包を計算
+ 交差線分
  + 2次元線分の集合を元に交差を計算する
+ ボロノイ図
  + 2次元点集合に対する距離に基づく平面分割

## 凸包

2次元点集合が4要素あった場合、外積を用いて方向を確認する

```math
cp = \begin{vmatrix}
L_{i-1}.x & L_{i-1}.y & 1 \
L_i.x & L_i.y & 1 \
p.x & p.y & 1
\end{vmatrix}
```

```math
cp = (L_1.x - L_{i_1}.x)(p.y - L_{i-1}.y) - (L_1.y - L_{i-1}.y)(p.x - L_{i-1}.x)
```

```math
direction = \left\{
\begin{array}{ll}
共線 & (cp = 0) \
右回り & (cp < 0) \
左回り & (cp > 0)
\end{array}
\right.
```

一番左端の要素から開始し、右回りのものだけを抽出することで凸包特性を保持する。

例) 凸法適用前データ

```mermaid
quadrantChart
title pentagram with noise
0: [0.4744380728454538, 0.4306645779939401]
1: [0.8216274972107267, 0.3409289973287687]
2: [0.16856631177378512, 0.6321399500159504]
3: [0.8356137831791326, 0.5491591075660418]
4: [0.7016059622240661, 0.6167132193406035]
5: [0.4068312910152627, 0.18680118620224329]
6: [0.21648955293952016, 0.12581439693026086]
7: [0.646912821190588, 0.5176989926527412]
8: [0.11929743633655271, 0.5089444185603342]
9: [0.7658309406221899, 0.454021850738613]
10: [0.6979898603300022, 0.6053601368458289]
11: [0.3785913236525795, 0.5961504178766476]
12: [0.44441835135469215, 0.3668727547487034]
13: [0.4495191718718005, 0.5378207039385484]
14: [0.6520828256088895, 0.6965771356263429]
15: [0.4661969561040769, 0.3422284287826125]
16: [0.4694704684142651, 0.3786235012027299]
17: [0.7130932736429699, 0.3954728828894126]
18: [0.20622286220725727, 0.23937516060896347]
19: [0.18602639854775782, 0.7399260861155978]
20: [0.5, 1]
21: [0.02447149999999998, 0.6545085]
22: [0.2061075, 0.09549149999999995]
23: [0.7938925, 0.09549149999999995]
24: [0.9755285, 0.6545085]
```

例)凸包適用後データ

```mermaid
quadrantChart
title convec hull scan
0: [0.7938925, 0.09549149999999995]
1: [0.02447149999999998, 0.6545085]
2: [0.2061075, 0.09549149999999995]
3: [0.5, 1]
4: [0.9755285, 0.6545085]
```
# グラフ

グラフの種類

+ 無向、重みなしグラフ: 方向関係なく節点対(u, v)の関係をモデル化する
+ 有向グラフ: 節点対(u, v)の関係が(u,v)の関係とは異なるモデル
+ 重みありグラフ: 節点対(u, v)の関係に重みを伴うモデル

## 例: 有向重み付きグラフの表現

6節点、5辺のグラフを考える

```mermaid
stateDiagram-v2
  state "v3" as sv3
  state "v0" as sv0
  state "v4" as sv4
  state "v1" as sv1
  state "v5" as sv5
  state "v2" as sv2

  sv3 --> sv0: 7

  sv4 --> sv1: 10
  sv4 --> sv5: 11
  sv5 --> sv2: 8
  sv2 --> sv4: 9
```

グラフの隣接リスト表現

```text
[v0]
[v1]
[v2] -> [ 9 | v4 | x ]
[v3] -> [ 7 | v0 | x ]
[v4] -> [ 10 | v1 |  ] -> [ 11 | v5 | x ]
[v5] -> [ 8 | v2 | x ]
```

グラフの隣接行列表現

| | v0 | v1 | v2 | v3 | v4 | v5 |
| :----- | :-----: | :-----: | :-----: | :-----: | :-----:  |:-----:  |
| v0 | - |  - |  - |  - |  - |  - | 
| v1 | - |  - |  - |  - |  - |  - | 
| v2 | - | - | - | - | 9 | - |
| v3 | 7 | - | - | - | - | - |
| v4 |  - | 10 | - | - | - | 11 |
| v5 |  - | - | 8 | - | - | - |

蜜グラフのばあいはほぼすべての辺が存在するので隣接行列表現の方がよい

## グラフの探索

深さ優先探索と幅優先探索がある

### 深さ優先探索(depth first search)

深さ優先探索は特定の節点から探索を始め、到達可能なすべての節点を調査する。
迷路を深さ優先で解析する際、分岐をと行き止まりノードとしたグラフとして考える。

![迷路](./img/meiro.png)

```mermaid
flowchart TB
  s --- 1
  s --- 6
  s --- 8
  1 --- 2
  2 --- 10
  2 --- 11
  1 --- 3
  3 --- 4 
  3 --- 12
  4 --- 5
  4 --- 13
  5 --- 6 
  5 --- 9
  6 --- 7
  9 --- t
  9 --- 7
  8 --- 14
  8 --- 7
```

流れとしては

+ s -> [1, 6, 8]
+ 1 -> [2, 3]
+ 2 -> [10, 11]
+ 3 -> [12, 4]
+ ...
 
と隣接する節点を再帰的に確認してtを探す


### 幅優先探索